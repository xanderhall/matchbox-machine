(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(55)},28:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(18),i=n.n(s),o=(n(28),n(21)),u=n(22),c=n(1),l=n(2),h=n(4),v=n(3),m=n(5),p=n(6);function f(e){return r.a.createElement("td",{className:"square",onClick:e.onClick},e.value)}var d=n(19),y=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderSquare",value:function(e){var t=this;return r.a.createElement(f,{key:e,value:this.props.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){var e=this,t=this.props.squares.map(function(t,n){return e.renderSquare(n)}),n=Object(d.chunk)(t,3).map(function(e,t){return r.a.createElement("tr",{key:t,className:"board-row"},e)});return r.a.createElement("table",{className:"game-board"},r.a.createElement("tbody",null,n))}}]),t}(r.a.Component),b=function(e){return r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return e.jumpTo()}},e.step>0?"Go to move "+e.step:"Go to game start"))};function E(e){e.history.map(function(t,n){return r.a.createElement(b,{key:n,step:n,jumpTo:function(){return e.jumpTo(n)}})});return r.a.createElement("div",{className:"game-info"},r.a.createElement("div",null,e.status),r.a.createElement("ol",null,r.a.createElement(b,{step:0,jumpTo:function(){return e.jumpTo(0)}})))}var k=n(20),j=n.n(k),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(v.a)(t).call(this,e))).state={stateMap:new Map,history:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"resolveMove",value:function(){var e=this.props.gameState,t=JSON.stringify(e),n=this.state.stateMap,a=this.state.history.slice(0,this.props.turn+1);if(!n.has(t)){var r=[];this.props.legalMoves.forEach(function(e){return r[e]=1}),n.set(t,r)}var s=n.get(t),i=[];s.forEach(function(e,t){e>0&&i.push(t)});var o=j()(i);this.props.registerMove(o),a[this.props.turn]={state:e,move:o},this.setState({history:a})}},{key:"resolveEnd",value:function(){"X"===this.props.endCondition?this.resolveLoss():"O"===this.props.endCondition?this.resolveWin():this.resolveTie()}},{key:"resolveWin",value:function(){}},{key:"resolveTie",value:function(){}},{key:"resolveLoss",value:function(){var e=this.state.history.slice().pop(),t=this.state.stateMap,n=JSON.stringify(e.state),a=t.get(n).slice();a[e.move]=0,t.set(n,a),a.every(function(e){return!e})&&this.resolveLoss()}},{key:"renderMatchboxes",value:function(){var e=[];return this.state.stateMap.forEach(function(t,n){e.push(r.a.createElement("tr",{key:n},r.a.createElement("td",null,"For the state given by ",n,", the bot has these weights:"),t.map(function(e,t){return r.a.createElement("td",{key:t},t,": ",e)})))}),e}},{key:"render",value:function(){return this.props.endCondition?this.resolveEnd():this.props.shouldRegisterMove&&this.resolveMove(),r.a.createElement("div",{className:"machine"},r.a.createElement("div",{className:"machine-info"},r.a.createElement("h1",null,"Hi, I'm a machine!")),r.a.createElement("table",{className:"matchboxes"},this.renderMatchboxes()))}}]),t}(r.a.PureComponent);function g(e){var t=[];return e.forEach(function(e,n){e||t.push(n)}),t}function C(e){return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]].some(function(t){var n=Object(o.a)(t,3),a=n[0],r=n[1],s=n[2];return e[a]&&e[a]===e[r]&&e[a]===e[s]})}var M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(h.a)(this,Object(v.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(p.a)(Object(p.a)(n))),n.state={history:[{squares:Array(9).fill(null),lastMove:null}],turn:0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.turn+1),n=t[t.length-1].squares.slice();if(!C(n)&&!n[e]){var a=this.state.turn%2===0?"X":"O";n[e]=a,this.setState({history:[].concat(Object(u.a)(t),[{squares:n,lastMove:{square:e,player:a}}]),turn:t.length})}}},{key:"render",value:function(){var e,t=this,n=this.state.history,a=n[this.state.turn],s=this.state.turn%2===0?"X":"O",i="Next player: "+s;return C(a.squares)?i="Winner: "+(e=a.lastMove.player):9===this.state.turn&&(e="T",i="Tie"),r.a.createElement("div",{className:"game"},r.a.createElement(y,{squares:a.squares,onClick:this.handleClick}),r.a.createElement(E,{status:i,history:n,jumpTo:function(e){return t.setState({turn:e})}}),r.a.createElement(O,{gameState:a,registerMove:this.handleClick,shouldRegisterMove:"O"===s&&!e,legalMoves:g(a.squares),endCondition:e,turn:this.state.turn}))}}]),t}(a.Component);i.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.a129762b.chunk.js.map